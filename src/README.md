# Система автоматизированного анализа безопасности APK

Система для автоматизированного анализа безопасности Android-приложений с использованием нескольких инструментов:
- MobSF
- Semgrep
- OWASP Dependency Check

## Требования

- Docker
- Docker Compose

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone <repository_url>
cd src
```

2. Создайте директории для APK файлов и результатов:
```bash
mkdir apk results
```

3. Поместите APK файл(ы) для анализа в директорию `apk/`

4. Настройте API ключ MobSF:
   - Откройте `docker-compose.yml`
   - Замените `your_mobsf_api_key` на реальный ключ
   - Тот же ключ нужно указать в обоих сервисах

5. Запустите сервисы:
```bash
docker-compose up -d
```

6. Запустите анализ:
```bash
# Для одного файла
docker-compose run security_scanner /app/apk/your_app.apk -o /results

# Для всех APK в директории
for file in apk/*.apk; do
    docker-compose run security_scanner "$file" -o /results
done
```

## Результаты

Результаты анализа будут сохранены в директории `results/` в формате JSON. Для каждого APK файла будет создан отдельный отчет, содержащий результаты всех сканеров.

## Структура отчета

Отчет содержит результаты от каждого сканера:
- MobSF: полный отчет о безопасности, включая статический и динамический анализ
- Semgrep: результаты анализа кода на наличие уязвимостей
- OWASP Dependency Check: анализ зависимостей на известные уязвимости

## Устранение проблем

1. Если MobSF недоступен:
   - Проверьте, что сервис запущен: `docker-compose ps`
   - Проверьте логи: `docker-compose logs mobsf`
   - Убедитесь, что API ключ указан правильно

2. Если не работает Semgrep или Dependency Check:
   - Проверьте логи сканера: `docker-compose logs security_scanner`
   - Убедитесь, что APK файл доступен и не поврежден

## Безопасность

- Не публикуйте API ключ MobSF
- Регулярно обновляйте образы Docker для получения последних обновлений безопасности
- Проверяйте права доступа к директориям с результатами анализа 